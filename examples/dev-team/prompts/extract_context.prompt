---
id: extract_context
name: Context Extractor
description: Extract search terms and file paths from a feature request

input:
  feature_request:
    type: string
    description: The raw feature request
    required: true
  project_files:
    type: string
    description: List of files in the project
    required: true

output:
  format: json
  schema:
    search_terms:
      type: array
      description: Keywords to search for in the codebase (class names, function names, module names)
    likely_files:
      type: array
      description: File paths that are likely relevant based on the request
    file_patterns:
      type: array
      description: Glob patterns to find related files (e.g. "trident/*.py")
---
You are a code analyst. Extract actionable search context from this feature request.

## Feature Request
{{feature_request}}

## Project Files
{{project_files}}

## Your Task

Analyze the feature request and the project structure to identify:

1. **search_terms**: Extract 3-5 specific keywords that would appear in relevant code:
   - Class names (e.g., "NodeTrace", "DAG", "Project")
   - Function names (e.g., "run", "build_dag", "execute")
   - Module names (e.g., "executor", "parser", "template")
   - Key concepts mentioned (e.g., "dry_run", "validation")

2. **likely_files**: Based on the project structure and the request, list specific files that are likely to need changes. Look for:
   - Files mentioned explicitly in the request
   - Files whose names match the feature area
   - Test files that would need updates

3. **file_patterns**: Glob patterns to find related files (e.g., "tests/test_*.py", "trident/*.py")

Be specific. Use actual file paths from the project structure when possible.
